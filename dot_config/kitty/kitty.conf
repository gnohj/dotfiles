#
# ██╗  ██╗██╗████████╗████████╗██╗   ██╗
# ██║ ██╔╝██║╚══██╔══╝╚══██╔══╝╚██╗ ██╔╝
# █████╔╝ ██║   ██║      ██║    ╚████╔╝
# ██╔═██╗ ██║   ██║      ██║     ╚██╔╝
# ██║  ██╗██║   ██║      ██║      ██║
# ╚═╝  ╚═╝╚═╝   ╚═╝      ╚═╝      ╚═╝
#
# Kitty is a fast, feature-rich, GPU based terminal emulator
# https://sw.kovidgoyal.net/kitty/conf

# This will be used to set the `TERM` environment variable.
term xterm-kitty

# Include theme file (generated dynamically by colorscheme-set.sh)
include kitty-theme.conf

# Fonts
font_family Hasklug Nerd Font Mono Med
# bold_font Hasklug Nerd Font Mono SemBd
# bold_italic_font Hasklug Nerd Font Mono SemBd Italic
italic_font Cartograph CF Italic
font_size 15.0

# Font adjustments (match Ghostty settings exactly)
# modify_font cell_width -5%
# modify_font cell_height 18%
modify_font underline_position 4
modify_font underline_thickness 40%

# macOS font rendering - disable thickening to match Ghostty
macos_thicken_font 0
disable_ligatures never

# Cursor
cursor_shape block
cursor_blink_interval 0
cursor_stop_blinking_after 0

# Cursor trail animation (similar to ghostty cursor shaders)
cursor_trail 1
cursor_trail_decay 0.1 0.5

# Shell integration
shell_integration enabled
# Disable cursor shell integration (matches ghostty no-cursor)
shell_integration no-cursor
# Disable sudo integration (matches ghostty no-sudo)
shell_integration no-sudo

# Shell command - ensure zsh runs as login shell to source Nix profile
# shell /bin/zsh --login

# Window
hide_window_decorations titlebar-only
remember_window_size no
initial_window_width 1200
initial_window_height 800

# Window padding
window_padding_width 20 20
window_padding_height 20 8
placement_strategy center

# macOS specific
macos_titlebar_color background
macos_show_window_title_in none
macos_option_as_alt right
macos_quit_when_last_window_closed yes
macos_window_resizable yes
macos_custom_beam_cursor yes

# Mouse
mouse_hide_wait -1

# Clipboard
clipboard_control write-clipboard write-primary read-clipboard read-primary

# Keybindings - Ghostty specific commands
# Reload config
map cmd+r load_config_file

# Clear screen
map cmd+k combine : clear_terminal scrollback active : send_text normal \x0c

# Inspector (closest equivalent is show_kitty_env_vars)
map cmd+i show_kitty_env_vars

# Misc
confirm_os_window_close 0
enable_audio_bell no

# URL handling
url_style curly
detect_urls yes
show_hyperlink_targets yes

# Tab bar (hidden by default like ghostty)
tab_bar_style hidden

# Performance
sync_to_monitor yes
repaint_delay 10
input_delay 3

dynamic_background_opacity yes
background_opacity 0.875
